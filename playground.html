<html>

<body>
    <style>
        /* Container for label and input using grid layout */
        .email-container {
            display: grid;
        }

        .email-label {
            grid-area: 1 / 1 / 2 / 2;
            /* Position label in the same grid cell as the input */
            position: relative;
        }

        .label-valid,
        .label-invalid {
            position: absolute;
            width: 100%;
            transition: opacity 0.3s ease;
        }

        .label-valid {
            z-index: 2;
            /* Initially on top */
            opacity: 1;
            /* Fully visible initially */
        }

        .label-invalid {
            z-index: 1;
            /* Initially behind */
            opacity: 0;
            /* Fully transparent initially */
        }

        input[type="email"] {
            grid-area: 1 / 1 / 2 / 2;
            /* Same grid cell as label */
            z-index: 3;
            /* Input is always on top */
        }

        /* Adjusting z-index and opacity based on input validity */
        input[type="email"]:invalid:not(:placeholder-shown)+.email-label .label-valid {
            z-index: 1;
            /* Move behind when invalid */
            opacity: 0;
            /* Transition to transparent */
        }

        input[type="email"]:invalid:not(:placeholder-shown)+.email-label .label-invalid {
            z-index: 2;
            /* Bring to front when invalid */
            opacity: 1;
            /* Transition to visible */
        }
    </style>
    <form>
        <div class="email-container">
            <label for="emailInput" class="email-label">
                <span class="label-valid">Your email</span>
                <span class="label-invalid">Enter a valid email address</span>
            </label>
            <input type="email" id="emailInput" placeholder="Enter your email">
        </div>
    </form>
</body>

</html>